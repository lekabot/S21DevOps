## Part 1. Установка ОС
- Скачаиваем образ с официального сайта Ubunutu https://ubuntu.com/download/server/arm
- Устанавливаем на виртуальную машину Ubuntu 20.04 Server LTS без графического интерфейса
- Проверем всерию Ubuntu командой `cat /etc/issue`
![Версия Ubuntu](Images/1.png)

## Part 2. Создание пользователя
 - Создаём нового пользователя командой командой `sudo adduser new_cool_whitleyt`
 ![Создание нового пользователя](Images/2.1.png)
 
 - Добавляем пользователя в группу adm командой `sudo usermod -a -G adm new_cool_whitleyt`
  ![Добавляем пользователя в группу](Images/2.2.png)

- Проверяем что пользователь был действительно создан команддой `cat /etc/passwd`
 ![Проверка пользователя](Images/2.3.png)

## Part 3. Настройка сети ОС
- Изменяем название машины на user-1 с помощью команды `hostnamectl set-hostname user-1`
 ![Изменение название машины](Images/3.1.png)

- Перезагружаем машину, чтобы изменения вступили в силу командой `sudo reboot`
- Проверяем название машины `cat /etc/hostname`
 ![Проверяем название машины](Images/3.2.png)
 
- Проверяем текущий часовой пояс `timedatectl`
 ![Проверяем текущий часовой пояс](Images/3.3.png)
 
- Выставляем нужный часовой пояс командой `sudo timedatectl set-timezone Asia/Novosibirsk`
![Выставляем часовой пояс Новосибирска](Images/3.4.png)

- Проверяем часовой пояс
![Проверяем часовой](Images/3.5.png)

- Вывод названия сетевых интерфейсов с помощью команды `ls /sys/class/net`
 ![Выводим в консоль название сетевых интерфейсов](Images/3.6.png)

* docker0 -это сетевой интерфейс, который создается Docker при установке. Он представляет собой мост (bridge), который используется для связи контейнеров Docker с внешней сетью, а также для обеспечения их связи друг с другом.

* enp0s5 -  сетевой интерфейс, в котором. en обозначает Ethernet (проводное подключение). p0 обозначает порт (port). s5 обозначает слот (slot).

* lo - Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.

- С помощью команды `ip r` получаем ip адрес устройства, на котором мы работаем, от DHCP сервера.
 ![Получаем ip адрес устройства](Images/3.7.png)

- Dynamic Host Configuration Protocol (DHCP) - это протокол управления сетью, используемый в сетях TCP/IP, в котором DHCP-сервер динамически присваивает каждому устройству IP-адрес и другие параметры сетевой конфигурации, чтобы они могли связываться с другими IP-сетями.

- Выводим внешний(ip) и внутренний(gw) ip-адреса шлюза командами `wget -q -O - inconfig.me/ip` и `ip route | grep default`
 ![](Images/3.8.png)

- Задаем статичные настройки ip, gw, dns командой sudo nano /etc/resolv.conf
 ![](Images/3.9.png)

- Перезагружаем машину для внесения изменений командой `sudo reboot`
- Проверяем, что статичные сетевые настройки (ip, gw, dns) соответствуют данным, командой `ping -c 8 1.1.1.1 && ping -c 8 ya.ru`
 ![](Images/3.10.png)

## Part 4. Обновление ОС

- Узнаём колличество пакетов командой `sudo apt update`, обновляем пакеты командой `sudo apt full-upgrade` и проверяем обновления командой `sudo do-release-upgrade`<br>
 ![](Images/3.11.png)
 
 ## Part 5. Использование команды sudo

- Разрешаем пользователю new_cool_whitleyt, созданному в Part 2, выполнять команду sudo командой `sudo usermod -a -G sudo new_cool_whitleyt`
 ![](Images/3.12.png)

- Переключаемся на пользователя su - new_cool_whitleyt `su - new_cool_whitleyt`
 ![](Images/3.13.png)
 
- Изменяем hostname и проверяем изменения от добавленного пользователя `sudo hostname big-power`
 ![](Images/3.14.png)

## Part 6. Установка и настройка службы времени

- Выведим в терминал дату и время с NTPSynchronized=yes при помощи команды `timedatectl show`
 ![](Images/3.15.png)

## Part 7. Установка и использование текстовых редакторов

1. Скачаиваем текстовый редактор MCEDIT командой `sudo apt install mc`
2. Создаём и редактируем файл с сохранением изменений:
- VIM: создаем файл с помощью команды `vim test_vim.txt`
- Нажимаем на "i" в редакторе, для редактирования
- Пишем свой ник: "whitleyt"
- Для выхода с сохранением используем команды: `Esc`, `:wq`, `Enter`
 ![](Images/6.1.png)
- NANO: создаем файл с помощью команды `nano test_nano.txt`
- Пишем свой ник: "whitleyt"
- Для выхода с сохранением используем команды: `ctrl+o`, `Enter`, `ctr+x`
 ![](Images/6.2.png)
- MCEDIT: создаем файл с помощью команды `mcedit test_mcedit.txt`
- Пишем свой ник: "whitleyt"
- Для выхода с сохранением используем команды: `fn+F2`, `Enter`, `fn+F10`
 ![](Images/6.3.png)
3. Редактирование файла с заменой слова без сохранения изменений:
- VIM: открываем файл с помощью команды `vim test_vim.txt`
- Нажимаем на "i" в самом редакторе, для редактирования
- Изменяем "whitleyt" на "21 School 21"
- Для выхода без сохранения используем команды: `Esc`, `:q!`, `Enter`
 ![](Images/6.4.png)
- NANO: открываем файл с помощью команды `nano test_nano.txt`
- Изменяем "whitleyt" на "21 School 21"
- Для выхода без сохранения используем команды: `ctrl+x`, `N`, `Enter`
 ![](Images/6.5.png)
- MCEDIT: открываем файл с помощью команды `mcedit test_mcedit.txt`
- Изменяем "whitleyt" на "21 School 21"
- Для выхода без сохранения используем команды: fn+F10, No, Enter
 ![](Images/6.6.png)
4. Редактирование файла с поиском и заменой слова:
- VIM: открываем файл с помощью команды `vim test_vim.txt`
- Для поиска в VIM вводим `/ley` и искомое слово выделяется в самом редакторе
 ![](Images/6.7.png)
- Для замены слова в VIM вводим `:%s/whitleyt/21 School 21` и слово "whitleyt" заменяется на "21 School 21"
 ![](Images/6.8.png)
 ![](Images/6.9.png)
 
- NANO: открываем файл с помощью команды `nano test_nano.txt`
- Для поиска в NANO вводим `ctrl+W`
 ![](Images/6.10.png)
 Для замены слова в NANO вводим `ctrl+\`, пишем "whitleyt", нажимаем Enter, пишем "21 School 21", нажимаем `Enter`, выбираем `Y`
 ![](Images/6.11.png)
  ![](Images/6.12.png)
   ![](Images/6.13.png)
   
- MCEDIT: открываем файл с помощью команды `mcedit test_mcedit.txt`
- Для поиска в MCEDIT вводим `fn+F7`, вводим слово, которое хотим найти, нажимаем Enter
   ![](Images/6.14.png)
- Для замены слова в MCEDIT вводим `fn+F4` пишем "whitleyt", нажимаем на клавишу "стрелка вниз", пишем "21 School 21", нажимаем `Enter`, выбираем Replace
   ![](Images/6.15.png)
      ![](Images/6.16.png)
## Part 8. Установка и базовая настройка сервиса SSHD
1. Устанавливаем службу SSHd командой `sudo apt install openssh-server`
 ![Команда для установки SSHd](Images/8.1.png)
2. Добавляем автостарт службы SSHd командой `sudo update-rc.d ssh defaults`
 ![Добавление автостарта SSHd](Images/8.2.png)
3. Изменяем порт SSHd в фале `sudo vim /etc/ssh/sshd_config` Заменяем #Port 22 на #Port 2022.
 ![Изменение порта SSHd](Images/8.3.1.png)
- Перезапускаем SSHd для внесения изменений `/etc/init.d/ssh restart`
 ![](Images/8.4.1.png)
4. Проверяем наличие процесса SSHd командой `ps -axfv | grep sshd`
 ![](Images/8.5.png)
- Команда ps выводит список текущих процессов на вашем сервере. Используется обычно в сочетании с командой grep
- Флаги:<br>
    * -a: Выбирает все процессы, кроме лидеров сеансов и процессов, не связанных с терминалом.<br>
    * -x: Заставляет ps отображать список всех процессов, которыми вы владеете (тот же EUID, что и у ps), или перечислять все процессы при использовании вместе с опцией a<br>
    * -f: Выводит полноформатный список<br>
    * -v: Выводит информацию о версии<br>
5. Устанавливаем net-tools `sudo apt install net-tools`
 ![](Images/8.6.png)
- Выполняем команду `netstat -tan`
 ![](Images/8.7.png)
Опция -a показывает состояние всех сокетов; -n показывает ip адрес, а не сетевое имя; -t показывает только tcp соединения.
- Значения столбцов:<br>
    * Proto - протокол, используемый сокетом;<br>
    * Recv-Q - количество байтов, не скопированных пользовательской программой, подключенной к этому сокету;<br>
    * Local Address - локальный адрес (имя локального хоста) и номер порта сокета;<br>
    * Foreign Address - удаленный адрес (имя удаленного хоста) и номер порта сокета;<br>
    * State - состояние сокета;<br>
    * 0.0.0.0 в этом контексте означает "все IP-адреса на локальной машине".<br>
- Перезагружаем систему командой `sudo reboot`
## Part 9. Установка и использование утилит top, htop
1. top
- Запуск утилиты top<br>
 ![](Images/9.1.png)
- Uptime:<br>
 ![](Images/9.2.png)
- Количество авторизированных пользователей<br>
 ![](Images/9.3.png)
- Общая загрузка системы<br>
 ![](Images/9.4.png)
- Общее количество процессов<br>
 ![](Images/9.5.png)
- Загрузка cpu<br>
 ![](Images/9.6.png)
- Загрузка памяти<br>
 ![](Images/9.7.png)
- pid процесса, занимающего больше всего памяти<br>
 ![](Images/9.8.png)
- pid процессора, занимающего больше всего процессорного времени<br>
 ![](Images/9.8.png)
 2. htop:
- Запуск htop
 ![](Images/9.9.png)
- Для выбора поля сортировки использовать F6:
+ PID:
 ![](Images/9.10.png)
+ PERCENT_CPU:
 ![](Images/9.11.png)
+ PERCENT_MEM:
 ![](Images/9.12.png)
+ TIME:
 ![](Images/9.13.png)
+ Для фильтра по SSHd используются клавиши `fn+F4`, `"sshd"`, `Enter`
 ![](Images/9.14.png)
+ Для поиска процессa syslog используются клавиши `fn+F3`, `"syslog"`, `Enter`
 ![](Images/9.15.png)
 ## Part 10. Использование утилиты fdisk
- Название жесткого диска: `ubuntu--vg-ubuntu--lv`
- Размер: 30.47 Gib
- Колличество секторов: 63905792
- Размер swap: 32719765504
## Part 11. Использование утилиты df
1. Выводим команду `df /`
 ![](Images/11.1.png)
- Размер раздела: 31270768
- Размер занятого пространства: 5403092
- Размер свободного пространства: 24253648
- Процент использования: 19%
- Единица измерения в выводе: Кб
2. Вывод команды `df -Th /`
 ![](Images/11.2.png)
- Размер раздела: 30
- Размер занятого пространства: 5.2
- Размер свободного пространства: 24
- Процент использования: 19%
- Единица измерения в выводе: Гб
- Тип файловой системы для раздела: ext4
## Part 12. Использование утилиты du
- Запуcк команды `du`<br>
 ![](Images/12.1.png)<br>
 - Вывести размер папок `/home`, `/var`, `/var/log` с помощью команды `sudo du -s -h /home && sudo du -s -h /var && sudo du -s -h /var/log`
 ![](Images/12.2.png)
- Вывести размер всего содержимого в `/var/log` с помощью команды `sudo du -a -h /var/log`<br>
 ![](Images/12.3.png)<br>
## Part 13. Установка и использование утилиты ncdu
- Устанавливаем утилиту ncdu командой `sudo apt install ncdu`
 ![](Images/13.1.png)
- Выведем размер папок с помощью команды `ncdu`:<br>
`/home`
 ![](Images/13.2.png)
`/var`
 ![](Images/13.3.png)
 `/var/log`
 ![](Images/13.4.png)
## Part 14. Работа с системными журналами
1. Log последней успешной авторизации в систему `last`
![](Images/14.1.png)
- Время авторизации: 11 декабря 2023, 13:57
- Имя пользователя: whitleyt
- Метод входа в систему: tty1
2. Перезапуск службы SSHd: `sudo /etc/init.d/ssh restart`
- Сообщение о рестарте службы `sudo cat /var/log/syslog`
![](Images/14.2.png)
## Part 15. Использование планировщика заданий CRON
- Устанавливаем CRON: `sudo apt install cron`
- Запланировать задачу: crontab -e
- Запланировать команду uptime каждые 2 минуты: `"*/2 * * * * uptime"`, `ctrl+x`, `y`, `Enter`
![](Images/15.1.png)
- Список текущих заданий для CRON выводится командой `crontab -l`
![](Images/15.2.png)
- Строчки о выполнении в системных журналах выводим с помощью команды `sudo grep CRON /var/log/syslog`
![](Images/15.3.png)
- Удалить все задания из планировщика: `crontab -r`
- Список текущих заданий для CRON выводится командой `crontab -l`
![](Images/15.4.png)
