# Сети в Linux

## Part 1. Инструмент **ipcalc**

#### 1.1 Сети и маски

##### 1) Адрес сети `192.167.38.54/13`

```bash
Исходный IP адрес
192.167.38.54/13
В бинарном формате
11000000.10100111.00100110.00110110
Исходная маска сети
11111111.11111000.00000000.00000000
255.248.0.0
Совершаем операцию AND между ip адресом и маской подсети
11000000.10100000.00000000.00000000
Переводим в decimal
192.160.0.0
```

##### 2) Перевод маски `255.255.255.0` в префиксную и двоичную запись, `/15` в обычную и двоичную, `11111111.11111111.11111111.11110000` в обычную и префиксную

```bash
decima 255.255.255.0
prefix /24
binary 11111111.11111111.11111111.00000000

decima 255.254.0.0
prefix /15
binary 11111111.11111110.00000000.00000000

decimal 255.255.255.240
prefix /28
binary 11111111.11111111.11111111.11110000
```

##### 3) Минимальный и максимальный хост в сети `12.167.38.4` при маске `/8`

```bash
prefix /8
ip dec 12.167.38.4       = binary 00001100.10100111.00100110.00000100
mask dec 255.0.0.0       = binary 11111111.00000000.00000000.00000000
host min 12.0.0.1        = binary 00001100.00000000.00000000.00000001
host max 12.255.255.254  = binary 00001100.11111111.11111111.1111110

Количество доступных адресов:
2^24 = 16777214 - 2 = 16777212
```

`11111111.11111111.00000000.00000000`

```bash
prefix /16
ip dec 12.167.38.4       = binary 00001100.10100111.00100110.00000100
mask dec 255.255.0.0     = binary 11111111.11111111.00000000.00000000
host min 12.167.0.1      = binary 00001100.10100111.00000000.00000001
host max 12.167.255.254  = binary 00001100.10100111.11111111.1111110
Количество доступных адресов:
2^16 = 65536 - 2 = 65534
```

`255.255.254.0`

```bash
prefix /23
ip dec 12.167.38.4       = binary 00001100.10100111.00100110.00000100
mask dec 255.255.254.0   = binary 11111111.11111111.11111110.00000000
host min 12.167.38.1     = binary 00001100.10100111.00100110.00000001
host max 12.255.38.254   = binary 00001100.10100111.00100110.1111110
Количество доступных адресов:
2^9 = 512 - 2 = 510
```

`/4`

```bash
prefix /4
ip dec 12.167.38.4      = binary 00001100.10100111.00100110.00000100
mask dec 240.0.0.0      = binary 11110000.00000000.00000000.00000000
host min 0.0.0.1        = binary 00000000.00000000.00000000.00000001
host max 15.255.255.254 = binary 00001111.11111111.11111111.11111110
Количество доступных адресов:
2^28 = 268435456 - 2 = 268435454
```

#### 1.2 localhost

##### Определить и записать в отчёт, можно ли обратиться к приложению, работающему на localhost, со следующими IP

`localhost («местный» от англ. local — этот компьютер) — стандартное, официально зарезервированное доменное имя для частных IP-адресов в диапазоне 127.0.0.1 — 127.255.255.254`

```bash
194.34.23.100 - нет доступа
127.0.0.2     - есть
127.1.0.1     - есть
128.0.0.1     - нет доступа
```

#### 1.3 Диапазоны и сегменты сетей

`Privat(частные или серые) IPv4:
10.0.0.0 - 10.255.255.255 (/8)
172.16.0.0 - 172.31.255.255 (/12)
192.168.0.0 - 192.168.255.255 (/16)
За исключением адресов, указанных выше, публичные(Public) IP-адреса варьируются от 1 до 191.`

##### Определить и записать в отчёт

##### 1) какие из перечисленных IP можно использовать в качестве публичного, а какие только в качестве частных

```bash
10.0.0.45      - Private
134.43.0.2     - Public
192.168.4.2    - Private
172.20.250.4   - Private
172.0.2.1      - Public
192.172.0.1    - Public
172.68.0.2     - Public
172.16.255.255 - Private
10.10.10.10    - Private
192.169.168.1  - Public
```

##### 2) какие из перечисленных IP адресов шлюза возможны у сети `10.10.0.0/18`

HostMin 10.10.0.1 HostMax 10.10.63.254

```bash
10.0.0.1    - out of range
10.10.0.2   - ok
10.10.10.10 - ok
10.10.100.1 - out of range
10.10.1.255 - ok
```

## Part 2. Статическая маршрутизация между двумя машинами

- ```ip a (ws1, ws2)```<br>

![ipa](/images/ipa.png) <br>

- ```Описан сетевой интерфейс, соответствующий внутренней сети, на обеих машинах и заданы следующие адреса и маски: ws1 - 192.168.100.10, маска /16, ws2 - 172.24.116.8, маска /12``` <br>

![inter](/images/inter.PNG) <br>

- ```netplan apply```

![inter](./images/apply.PNG) <br>

#### 2.1. Добавление статического маршрута вручную

- ```Команды для добаления статического маршрута, пинг```

![ipadd](/images/4.PNG) <br>

![ping](/images/5.PNG) <br>

#### 2.2. Добавление статического маршрута вручную
